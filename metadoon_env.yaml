name: metadoon
channels:
  - conda-forge
  - bioconda
  - defaults

dependencies:
  # --- Python Core & GUI ---
  - python=3.12
  - pip
  - tk>=8.6                # Graphical User Interface (GUI)
  - pillow>=10.0           # Icon and Image Manipulation

  # --- External Tools ---
  - vsearch>=2.21.1        # Amplicon Processing
  - wget                   # Database downloading
  - pandoc>=3.1            # CRITICAL: Required to render RMarkdown to HTML

  # --- System Libraries for R (Graphics & Compilation) ---
  # CRITICAL for macOS/Linux to render fonts and PNGs correctly
  - libcurl
  - libxml2
  - openssl
  - gmp
  - mpfr
  - libuv
  - make
  - libpng                 # PNG support
  - freetype               # Font support
  - harfbuzz               # Text shaping (Fixes ggplot2 text issues)
  - fribidi                # Bi-directional text support
  - pango                  # Text rendering
  - cairo                  # 2D graphics library

  # --- R Base ---
  - r-base=4.4.* # Fixed version for stability

  # --- R Packages (CRAN) ---
  - r-devtools             # For installing GitHub packages
  - r-remotes              # File downloads
  - r-tidyverse>=2.0       # Data manipulation suite
  - r-tibble               # Data frames
  - r-tidyr                # Data tidying
  - r-reshape2             # Data reshaping
  - r-igraph               # Network analysis
  - r-foreach              # Parallel execution
  - r-lme4                 # Linear mixed-effects models
  - r-ggplot2>=3.4         # Data visualization
  - r-ggpubr>=0.6          # Plots with statistics
  - r-cowplot              # Plot arrangement
  - r-dplyr>=1.1           # Data manipulation
  - r-pheatmap             # Heatmaps
  - r-viridis              # Color palettes
  - r-ape>=5.7             # Phylogenetics
  - r-rprojroot            # Project root finding
  - r-knitr>=1.4           # Dynamic reporting
  - r-rmarkdown>=2.25      # Markdown rendering
  - r-tinytex              # PDF generation helper
  - r-vegan>=2.6           # Ecological diversity analysis
  - r-jsonlite>=1.8        # Reading JSON parameters
  - r-wesanderson          # Wes Anderson color palettes
  - r-rcolorbrewer         # ColorBrewer palettes
  - r-ggrepel              # Non-overlapping labels
  - r-cairo                # R interface to Cairo graphics

  # --- R Packages (Bioconductor) ---
  - bioconductor-phyloseq>=1.46
  - bioconductor-deseq2>=1.42
  - bioconductor-scater>=1.30
  - bioconductor-microbiome>=1.24
  - bioconductor-ancombc>=2.4
